<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù¾ÙˆÚ©Ø± Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HTML2Canvas for image saving -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            flex-direction: column;
            padding: 2rem 1rem;
        }
        .container {
            background-color: #fff;
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            max-width: 95%;
            width: 800px;
        }
        .tab-buttons {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            border-bottom: 2px solid #e5e7eb;
            flex-wrap: wrap;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            font-weight: bold;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }
        .tab-button.active {
            color: #10b981;
            border-bottom-color: #10b981;
        }
        .tab-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        .fruit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .fruit-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            border-radius: 0.75rem;
            padding: 1rem;
            background-color: #f9fafb;
            border: 2px solid transparent;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        .fruit-item.unvoted {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .fruit-emoji {
            font-size: 4rem;
            margin-bottom: 0.5rem;
        }
        .story-points-select {
            margin-top: 0.75rem;
            width: 80px;
            text-align: center;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            padding: 0.5rem;
            background-color: white;
        }
        .hidden {
            display: none;
        }
        .results-section {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #f0fdf4;
            border-radius: 1rem;
            border: 1px solid #d1fae5;
        }
        .cards-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }
        .card {
            background-color: #4b5563;
            color: #fff;
            padding: 1rem;
            border-radius: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            width: 60px;
            height: 90px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .result-card {
            background-color: #f9fafb;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .total-points {
            background-color: #10b981;
            color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            margin-top: 2rem;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .alert-message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #f87171;
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }
        .button-primary {
            background-color: #10b981;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .button-primary:hover {
            background-color: #059669;
        }
        .button-secondary {
            background-color: #3b82f6;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .button-secondary:hover {
            background-color: #2563eb;
        }
        .button-back {
            background-color: #6b7280;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .button-back:hover {
            background-color: #4b5563;
        }
        .summary-card {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            margin-top: 2rem;
            text-align: center;
        }
        .summary-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }
        .pmpiran-logo {
            width: 200px;
            height: auto;
            margin: 1rem auto;
            display: block;
        }
        .website-link {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background-color: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .website-link:hover {
            background-color: #2563eb;
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .social-link.instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }
        .social-link.telegram {
            background-color: #0088cc;
        }
        .social-link.linkedin {
            background-color: #0077b5;
        }
        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .founder-linkedin {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
        }
        .fruit-selection {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 1.5rem 0;
        }
        .fruit-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .fruit-option.selected {
            border-color: #10b981;
            background-color: #f0fdf4;
        }
        .fruit-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .selection-emoji {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Tab Navigation -->
    <div class="tab-buttons">
        <button id="tab-enter" class="tab-button active">ÙˆØ±ÙˆØ¯</button>
        <button id="tab-scenario" class="tab-button">Ø³Ù†Ø§Ø±ÛŒÙˆ Ø¨Ø§Ø²ÛŒ</button>
        <button id="tab-info" class="tab-button">Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù¾ÙˆÚ©Ø±</button>
        <button id="tab-vote" class="tab-button disabled">Ø§Ù…ØªÛŒØ§Ø² Ø¯Ø§Ø¯Ù†</button>
        <button id="tab-results" class="tab-button disabled hidden">Ù†ØªØ§ÛŒØ¬</button>
        <button id="tab-pmpiran" class="tab-button">PMPiran</button>
    </div>

    <!-- Tab Content -->
    <div id="tab-content-enter" class="tab-content">
        <h1 class="text-3xl font-bold mb-6">Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù¾ÙˆÚ©Ø± Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h1>
        <p class="mb-4">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>
        <input type="text" id="groupName" placeholder="Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡" class="w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
        <button id="startButton" class="button-primary w-full">
            Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
        </button>
    </div>

    <div id="tab-content-scenario" class="tab-content hidden">
        <p id="displayGroupName" class="mb-4 text-gray-500"></p>
        <h1 class="text-3xl font-bold mb-2">Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Ø¨Ø§Ø²ÛŒ</h1>
        <p class="mb-6 text-gray-700 leading-relaxed text-right">
            Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒØŒ Ø´Ù…Ø§ Ùˆ ØªÛŒÙ…â€ŒØªØ§Ù† Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ù‡Ù… ÛŒÚ© Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡ Ø¯Ø±Ø³Øª Ú©Ù†ÛŒØ¯. Ù‡Ø± Ù…ÛŒÙˆÙ‡ ÛŒÚ© ØªØ³Ú© ÛŒØ§ "Ø§Ø³ØªÙˆØ±ÛŒ" Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø³Øª Ú©Ø±Ø¯Ù† Ø³Ø§Ù„Ø§Ø¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…ÛŒÙˆÙ‡ Ø§Ù…ØªÛŒØ§Ø² Ø¯Ø§Ø³ØªØ§Ù† (Story Point) ØªØ¹ÛŒÛŒÙ† Ú©Ù†ÛŒØ¯. ØªÛŒÙ… Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ ØªÙ„Ø§Ø´ Ù„Ø§Ø²Ù… Ø±Ø§ ØªØ®Ù…ÛŒÙ† Ø²Ø¯Ù‡ Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…ÛŒÙˆÙ‡ ØªÙˆØ§ÙÙ‚ Ú©Ù†Ø¯ Ú©Ù‡ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ø¯Ø§Ø±Ø¯.
        </p>
        
        <div class="bg-yellow-50 p-4 rounded-xl mb-4">
            <h3 class="text-xl font-bold mb-4 text-center">Ù„Ø·ÙØ§Ù‹ Û±Û° Ù…ÛŒÙˆÙ‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ù„Ø§Ø¯ Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</h3>
            <div class="fruit-selection" id="fruitSelection">
                <!-- Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
            <p id="selectionCount" class="text-center mt-4 font-bold">0 Ù…ÛŒÙˆÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø§Ø² Û±Û° Ù…ÛŒÙˆÙ‡</p>
        </div>
        
        <div class="navigation-buttons">
            <button id="nextToInfo" class="button-secondary" disabled>
                Ø§Ø¯Ø§Ù…Ù‡
            </button>
        </div>
    </div>
    
    <div id="tab-content-info" class="tab-content hidden">
        <p id="displayGroupName2" class="mb-4 text-gray-500"></p>
        <h1 class="text-3xl font-bold mb-2">Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù¾ÙˆÚ©Ø±</h1>
        <div class="mb-6 text-right">
            <h2 class="text-xl font-bold mb-2">ğŸ”¹ ØªØ¹Ø±ÛŒÙ Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª</h2>
            <p class="text-gray-700 leading-relaxed">
                Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª ÛŒÚ© ÙˆØ§Ø­Ø¯ Ù†Ø³Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø­Ø¬Ù… Ú©Ø§Ø± Ù‡Ø³Øª.
                <br>
                Â«Ú©Ø§Ø±ÛŒ Ú©Ù‡ Û±Û° Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ù‡Ø³ØªØŒ ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ Ø¯Ù‡ Ø¨Ø±Ø§Ø¨Ø± Ø§Ù†Ø±Ú˜ÛŒ Ùˆ ØªÙ„Ø§Ø´ Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø² Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¯ Ú©Ù‡ Û± Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ù‡Ø³Øª.Â»
                <br>
                Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ø²Ù…Ø§Ù† Ø¯Ù‚ÛŒÙ‚ Ù†ÛŒØ³ØªØ› Ø¨Ù„Ú©Ù‡ ØªØ±Ú©ÛŒØ¨ÛŒÙ‡ Ø§Ø²:
                <br>
                <strong>Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ú©Ø§Ø±</strong> (Ø³Ø®ØªÛŒ Ø­Ù„ Ù…Ø³Ø¦Ù„Ù‡)
                <br>
                <strong>Ø±ÛŒØ³Ú© Ùˆ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª</strong> (Ù…ÛŒØ²Ø§Ù† Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ø¨ÙˆØ¯Ù†)
                <br>
                <strong>Ø§Ù†Ø¯Ø§Ø²Ù‡ ÛŒØ§ Ø­Ø¬Ù… Ú©Ø§Ø±</strong>
            </p>
        </div>
        <div class="mb-6 text-right">
            <h2 class="text-xl font-bold mb-2">ğŸ”¹ Ú†Ø±Ø§ Ø§Ø² Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…ØŸ</h2>
            <p class="text-gray-700 leading-relaxed">
                Ú†ÙˆÙ† ØªØ®Ù…ÛŒÙ† Ø³Ø§Ø¹Øª Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¯Ù‚ÛŒÙ‚ Ø¯Ø±Ù†Ù…ÛŒØ§Ø¯ Ùˆ Ø¨Ø§Ø¹Ø« Ø¨Ø­Ø« Ùˆ Ú©Ø´Ù…Ú©Ø´ Ù…ÛŒâ€ŒØ´Ù‡.
                <br>
                Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´Ù‡ ØªÛŒÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø³Ø¨ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ù†Ù†.
                <br>
                Ù…Ø«Ù„Ø§ Ø¨Ú¯Ù†: Â«Ú©Ø§Ø± A Ø­Ø¯ÙˆØ¯Ø§Ù‹ Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± Ø³Ø®Øªâ€ŒØªØ± Ø§Ø² Ú©Ø§Ø± B Ù‡Ø³ØªÂ» â†’ Ù¾Ø³ Ø§Ú¯Ø± B = 3 Ù¾ÙˆÛŒÙ†ØªØŒ A = 6 Ù¾ÙˆÛŒÙ†Øª.
            </p>
        </div>
        <div class="mb-6 text-right">
            <h2 class="text-xl font-bold mb-2">ğŸ”¹ Ù…Ù‚ÛŒØ§Ø³ Ø±Ø§ÛŒØ¬</h2>
            <p class="text-gray-700 leading-relaxed">
                Ø¨ÛŒØ´ØªØ± ØªÛŒÙ…â€ŒÙ‡Ø§ Ø§Ø² Ø³Ø±ÛŒ ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†:
            </p>
            <div class="cards-container">
                <div class="card">1</div>
                <div class="card">2</div>
                <div class="card">3</div>
                <div class="card">5</div>
                <div class="card">8</div>
                <div class="card">13</div>
                <div class="card">20</div>
                <div class="card">40</div>
                <div class="card">100</div>
                <div class="card">200</div>
            </div>
            <p class="text-gray-700 leading-relaxed mt-2">
                (Ù‡Ø± Ú†Ù‡ Ø¹Ø¯Ø¯ Ø¨Ø§Ù„Ø§ØªØ± Ù…ÛŒâ€ŒØ±Ù‡ØŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ø¨ÛŒØ´ØªØ±Ù‡.)
            </p>
        </div>
        
        <div class="navigation-buttons">
            <button id="backToScenario" class="button-back">
                Ø¨Ø§Ø²Ú¯Ø´Øª
            </button>
            <button id="nextToVote" class="button-secondary">
                Ø´Ø±ÙˆØ¹ Ø±Ø£ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ
            </button>
        </div>
    </div>

    <div id="tab-content-vote" class="tab-content hidden">
        <p id="displayGroupName3" class="mb-4 text-gray-500"></p>
        <h2 class="text-2xl font-bold mb-6">Ø§Ø³ØªÙˆØ±ÛŒ: Ø¯Ø±Ø³Øª Ú©Ø±Ø¯Ù† Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡</h2>
        <p class="mb-4">Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øª Ù‡Ø± Ù…ÛŒÙˆÙ‡ Ø±Ø§ Ø¯Ø± Ú©Ø§Ø¯Ø± Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>
        <div class="fruit-grid" id="fruitGrid">
            <!-- Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ùˆ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ø¢Ù†â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>
        
        <div class="navigation-buttons">
            <button id="backToInfo" class="button-back">
                Ø¨Ø§Ø²Ú¯Ø´Øª
            </button>
            <button id="submitVotes" class="button-primary">
                Ø«Ø¨Øª Ø±Ø£ÛŒâ€ŒÙ‡Ø§ Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªØ§ÛŒØ¬
            </button>
        </div>

        <div id="resultsSection" class="results-section hidden">
            <h2 class="text-2xl font-bold mb-6">Ù†ØªØ§ÛŒØ¬ Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø£ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ</h2>
            <div id="resultsContainer" class="results-grid">
                <!-- Ù†ØªØ§ÛŒØ¬ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </div>
    </div>

    <div id="tab-content-results" class="tab-content hidden">
        <p id="displayGroupName4" class="mb-4 text-gray-500"></p>
        <h2 class="text-2xl font-bold mb-6">Ù†ØªØ§ÛŒØ¬ Ø±Ø£ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ</h2>
        
        <div class="summary-card">
            <h3 class="text-xl font-bold">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª ØªÛŒÙ…</h3>
            <div id="totalPoints" class="summary-value">0</div>
            <p>Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„ Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÙˆÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡</p>
        </div>
        
        <div id="finalResultsContainer" class="results-grid mt-6">
            <!-- Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>
        
        <div class="mt-8 text-right p-4 bg-gray-100 rounded-lg">
            <h3 class="text-xl font-bold mb-2">Ù…ÙÙ‡ÙˆÙ… ÙˆÙ„Ø§Ø³ÛŒØªÛŒ (Velocity)</h3>
            <p class="text-gray-700 leading-relaxed">
                Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…ÛŒÙˆÙ‡ Ø¯Ø§Ø¯ÛŒØ¯ØŒ Ø§Ú¯Ø± ØªÛŒÙ… Ø´Ù…Ø§ ÛŒÚ© Ø±ÙˆØ² Ú©Ø§Ù…Ù„ ÙÙ‚Ø· Ø³Ø§Ù„Ø§Ø¯ Ø¯Ø±Ø³Øª Ú©Ù†Ø¯ØŒ Ú†Ù†Ø¯ Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø±Ø³Øª Ú©Ù†Ø¯ØŸ
            </p>
            <div class="mt-4 flex flex-col sm:flex-row items-center justify-end">
                <label for="velocityInput" class="text-gray-700 sm:ml-4 mb-2 sm:mb-0">ØªØ¹Ø¯Ø§Ø¯ Ø³Ø§Ù„Ø§Ø¯:</label>
                <input type="number" id="velocityInput" placeholder="ØªØ¹Ø¯Ø§Ø¯" class="w-full sm:w-24 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-left">
            </div>
        </div>
        
        <div class="navigation-buttons">
            <button id="backToVote" class="button-back">
                Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø£ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ
            </button>
            <button id="saveFinalImageButton" class="button-primary">
                Ø°Ø®ÛŒØ±Ù‡ Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ
            </button>
        </div>
    </div>

    <div id="tab-content-pmpiran" class="tab-content hidden">
        <h2 class="text-3xl font-bold mb-6">Ù…Ø¹Ø±ÙÛŒ PMPiran</h2>
        
        <div class="bg-blue-50 p-6 rounded-xl mb-6">
            <svg class="pmpiran-logo" viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
                <rect x="50" y="50" width="400" height="100" rx="10" fill="#3b82f6" />
                <text x="250" y="115" font-family="Arial" font-size="40" font-weight="bold" fill="white" text-anchor="middle">PMPiran</text>
                <text x="250" y="160" font-family="Arial" font-size="20" fill="white" text-anchor="middle">Ù…Ø±Ø¬Ø¹ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø§ÛŒØ±Ø§Ù†</text>
            </svg>
            
            <p class="text-gray-700 text-right leading-relaxed mb-4">
                <strong>PMPiran</strong> Ù…Ø±Ø¬Ø¹ ØªØ®ØµØµÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø§ÛŒØ±Ø§Ù† Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ù‡Ø¯Ù ØªÙˆØ³Ø¹Ù‡ Ùˆ ØªØ±ÙˆÛŒØ¬ Ø¯Ø§Ù†Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† ÙØ¹Ø§Ù„ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø¨Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…Ø·Ø§Ù„Ø¨ Ø¢Ù…ÙˆØ²Ø´ÛŒØŒ Ù…Ù†Ø§Ø¨Ø¹ ØªØ®ØµØµÛŒ Ùˆ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒØŒ Ø¨Ù‡ Ø¬Ø§Ù…Ø¹Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø§ÛŒØ±Ø§Ù† Ø®Ø¯Ù…Ø§Øª Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
            </p>
            
            <p class="text-gray-700 text-right leading-relaxed mb-4">
                PMPiran Ø¨Ø§ Ú¯Ø±Ø¯Ø¢ÙˆØ±ÛŒ Ù…ØªØ®ØµØµØ§Ù† Ùˆ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯Ø§Ù† Ø¨Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ØŒ ÙØ¶Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø§Ø¯Ù„ Ø¯Ø§Ù†Ø´ Ùˆ ØªØ¬Ø±Ø¨ÛŒØ§Øª ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ø§ Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒØŒ ÙˆØ¨ÛŒÙ†Ø§Ø±Ù‡Ø§ Ùˆ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ ØªØ®ØµØµÛŒØŒ Ø¨Ù‡ Ø§Ø±ØªÙ‚Ø§ÛŒ Ø³Ø·Ø­ Ø¯Ø§Ù†Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>
            
            <p class="text-gray-700 text-right leading-relaxed mb-6">
                Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ù¾ÙˆÚ©Ø± Ø³Ø§Ù„Ø§Ø¯ Ù…ÛŒÙˆÙ‡ Ù†ÛŒØ² ÛŒÚ©ÛŒ Ø§Ø² Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· PMPiran Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø¯Ø±Ú© Ø¨Ù‡ØªØ± Ù…ÙØ§Ù‡ÛŒÙ… ØªØ®Ù…ÛŒÙ† Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ø± Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </p>
            
            <a href="https://pmpiran.com/" target="_blank" class="website-link">
                Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø§Ø² ÙˆØ¨Ø³Ø§ÛŒØª PMPiran
            </a>
            
            <!-- Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ -->
            <div class="social-links">
                <a href="https://www.instagram.com/pmpiran?igsh=MWFsazhjZWU0NjR6Zw==" target="_blank" class="social-link instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://t.me/PMPclub" target="_blank" class="social-link telegram">
                    <i class="fab fa-telegram"></i>
                </a>
                <a href="https://www.linkedin.com/company/pmpiran/?viewAsMember=true" target="_blank" class="social-link linkedin">
                    <i class="fab fa-linkedin"></i>
                </a>
            </div>

            <!-- Ù„ÛŒÙ†Ú©Ø¯ÛŒÙ† Ù…Ù‡Ø¯ÛŒ Ù…Ø¹ÛŒÙ† -->
            <div class="founder-linkedin">
                <h3 class="text-xl font-bold mb-4 text-center">Ù„ÛŒÙ†Ú©Ø¯ÛŒÙ† Ù…Ø¯ÛŒØ± Ø¹Ø§Ù…Ù„</h3>
                <div class="flex justify-center">
                    <a href="https://www.linkedin.com/in/mehdi-moein/" target="_blank" class="social-link linkedin">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="bg-green-50 p-6 rounded-xl text-right">
            <h3 class="text-xl font-bold mb-4">Ø®Ø¯Ù…Ø§Øª Ø§ØµÙ„ÛŒ PMPiran</h3>
            <ul class="list-disc pr-6 text-gray-700 space-y-2">
                <li>Ù…Ø´Ø§ÙˆØ±Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ù†Ø´ Ø±ÙˆØ² Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡</li>
                <li>Ù…Ø´Ø§ÙˆØ±Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ù†Ø´ Ø±ÙˆØ² ØªØ­Ù„ÛŒÙ„ Ú©Ø³Ø¨ ÙˆÚ©Ø§Ø±</li>
                <li>Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¯Ø± Ø­ÙˆØ²Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ØŒ ØªØ­Ù„ÛŒÙ„ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ùˆ Ú†Ø§Ø¨Ú©ÛŒ</li>
            </ul>
        </div>
        
        <div class="navigation-buttons mt-6">
            <button id="backToEnterFromPmpiran" class="button-back">
                Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
            </button>
        </div>
    </div>

    <div id="alertMessage" class="alert-message">
        Ù„Ø·ÙØ§ Ø¨Ù‡ Ù‡Ù…Ù‡ Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø¯Ù‡ÛŒØ¯.
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Global variables and elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const groupNameInput = document.getElementById('groupName');
        const startButton = document.getElementById('startButton');
        const nextToInfoButton = document.getElementById('nextToInfo');
        const nextToVoteButton = document.getElementById('nextToVote');
        const submitVotesButton = document.getElementById('submitVotes');
        const saveFinalImageButton = document.getElementById('saveFinalImageButton');
        const displayGroupName = document.getElementById('displayGroupName');
        const displayGroupName2 = document.getElementById('displayGroupName2');
        const displayGroupName3 = document.getElementById('displayGroupName3');
        const displayGroupName4 = document.getElementById('displayGroupName4');
        const fruitGrid = document.getElementById('fruitGrid');
        const fruitSelection = document.getElementById('fruitSelection');
        const selectionCount = document.getElementById('selectionCount');
        const resultsContainer = document.getElementById('resultsContainer');
        const finalResultsContainer = document.getElementById('finalResultsContainer');
        const totalPointsElement = document.getElementById('totalPoints');
        const velocityInput = document.getElementById('velocityInput');
        const alertMessage = document.getElementById('alertMessage');
        const resultsSection = document.getElementById('resultsSection');
        
        // Navigation buttons
        const backToScenario = document.getElementById('backToScenario');
        const backToInfo = document.getElementById('backToInfo');
        const backToVote = document.getElementById('backToVote');
        const backToEnterFromPmpiran = document.getElementById('backToEnterFromPmpiran');
        
        let currentGroupName = '';
        let userVotes = {};
        let fruitsRendered = false;
        let selectedFruits = [];

        // Fruit data with emojis - 15 fruits for selection
        const allFruits = [
            { name: 'Ù…ÙˆØ²', emoji: 'ğŸŒ' },
            { name: 'Ø³ÛŒØ¨', emoji: 'ğŸ' },
            { name: 'Ø¨Ù„ÙˆØ¨Ø±ÛŒ', emoji: 'ğŸ«' },
            { name: 'Ø¢Ù†Ø§Ù†Ø§Ø³', emoji: 'ğŸ' },
            { name: 'Ø¢ÙˆÙˆÚ©Ø§Ø¯Ùˆ', emoji: 'ğŸ¥‘' },
            { name: 'Ù¾Ø±ØªÙ‚Ø§Ù„', emoji: 'ğŸŠ' },
            { name: 'ØªÙˆØª ÙØ±Ù†Ú¯ÛŒ', emoji: 'ğŸ“' },
            { name: 'Ø³ÛŒØ¨ Ø³Ø¨Ø²', emoji: 'ğŸ' },
            { name: 'Ú©ÛŒÙˆÛŒ', emoji: 'ğŸ¥' },
            { name: 'Ú¯ÛŒÙ„Ø§Ø³', emoji: 'ğŸ’' },
            { name: 'Ù‡Ù†Ø¯ÙˆØ§Ù†Ù‡', emoji: 'ğŸ‰' },
            { name: 'Ø§Ù†Ú¯ÙˆØ±', emoji: 'ğŸ‡' },
            { name: 'Ù„ÛŒÙ…Ùˆ', emoji: 'ğŸ‹' },
            { name: 'Ø®Ø±Ø¨Ø²Ù‡', emoji: 'ğŸˆ' },
            { name: 'Ù‡Ù„Ùˆ', emoji: 'ğŸ‘' }
        ];
        
        // Allowed story points based on the user's request
        const storyPoints = [1, 2, 3, 5, 8, 13, 20, 40, 100, 200];

        // Tab switching logic
        const switchTab = (tabId) => {
            // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªØ¨â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø¹Ø¯ÛŒ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù‡Ù†ÙˆØ² Ø¨Ù‡ Ø¢Ù† Ù…Ø±Ø­Ù„Ù‡ Ù†Ø±Ø³ÛŒØ¯Ù‡
            if (tabId === 'vote' && !fruitsRendered) {
                return;
            }
            
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            const selectedTabButton = document.getElementById(`tab-${tabId}`);
            if (selectedTabButton) {
                selectedTabButton.classList.add('active');
            }
            const selectedTabContent = document.getElementById(`tab-content-${tabId}`);
            if (selectedTabContent) {
                selectedTabContent.classList.remove('hidden');
            }
        };

        // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªØ¨
        const enableTab = (tabId) => {
            const tabButton = document.getElementById(`tab-${tabId}`);
            if (tabButton) {
                tabButton.classList.remove('disabled');
            }
        };

        // Show temporary alert message
        function showAlertMessage() {
            alertMessage.style.display = 'block';
            setTimeout(() => {
                alertMessage.style.display = 'none';
            }, 3000);
        }

        // Render fruit selection options
        function renderFruitSelection() {
            fruitSelection.innerHTML = '';
            allFruits.forEach(fruit => {
                const fruitOption = document.createElement('div');
                fruitOption.className = 'fruit-option';
                fruitOption.dataset.fruit = fruit.name;
                
                fruitOption.innerHTML = `
                    <span class="selection-emoji">${fruit.emoji}</span>
                    <span class="text-sm">${fruit.name}</span>
                `;
                
                fruitOption.addEventListener('click', function() {
                    toggleFruitSelection(fruit);
                });
                
                fruitSelection.appendChild(fruitOption);
            });
        }
        
        // Toggle fruit selection
        function toggleFruitSelection(fruit) {
            const index = selectedFruits.findIndex(f => f.name === fruit.name);
            
            if (index === -1) {
                if (selectedFruits.length < 10) { // ØªØºÛŒÛŒØ± Ø§Ø² 15 Ø¨Ù‡ 10
                    selectedFruits.push(fruit);
                    document.querySelector(`.fruit-option[data-fruit="${fruit.name}"]`).classList.add('selected');
                }
            } else {
                selectedFruits.splice(index, 1);
                document.querySelector(`.fruit-option[data-fruit="${fruit.name}"]`).classList.remove('selected');
            }
            
            // Update selection count
            selectionCount.textContent = `${selectedFruits.length} Ù…ÛŒÙˆÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø§Ø² Û±Û° Ù…ÛŒÙˆÙ‡`; // ØªØºÛŒÛŒØ± Ø§Ø² 15 Ø¨Ù‡ 10
            
            // Enable/disable next button
            nextToInfoButton.disabled = selectedFruits.length !== 10; // ØªØºÛŒÛŒØ± Ø§Ø² 15 Ø¨Ù‡ 10
        }

        // Event Listeners
        startButton.addEventListener('click', function() {
            const groupName = groupNameInput.value.trim();
            if (!groupName) {
                showAlertMessage();
                return;
            }

            currentGroupName = groupName;
            displayGroupName.textContent = `Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡: ${currentGroupName}`;
            displayGroupName2.textContent = `Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡: ${currentGroupName}`;
            displayGroupName3.textContent = `Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡: ${currentGroupName}`;
            displayGroupName4.textContent = `Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡: ${currentGroupName}`;

            // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªØ¨ ÙˆØ±ÙˆØ¯
            document.getElementById('tab-enter').classList.add('disabled');
            
            // Render fruit selection
            renderFruitSelection();
            
            switchTab('scenario');
        });

        nextToInfoButton.addEventListener('click', function() {
            if (selectedFruits.length !== 10) { // ØªØºÛŒÛŒØ± Ø§Ø² 15 Ø¨Ù‡ 10
                return;
            }
            switchTab('info');
        });

        nextToVoteButton.addEventListener('click', function() {
            switchTab('vote');
            if (!fruitsRendered) {
                renderFruits();
                fruitsRendered = true;
                enableTab('vote');
            }
        });

        submitVotesButton.addEventListener('click', function() {
            if (!checkAllVoted()) {
                showAlertMessage();
                return;
            }
            
            // Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø±Ø£ÛŒâ€ŒÙ‡Ø§
            userVotes = {};
            document.querySelectorAll('.story-points-select').forEach(select => {
                const fruitName = select.dataset.fruit;
                userVotes[fruitName] = parseInt(select.value);
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ Ø§ÙˆÙ„ÛŒÙ‡
            displayResults(userVotes);
            resultsSection.classList.remove('hidden');
            
            // Ù†Ù…Ø§ÛŒØ´ ØªØ¨ Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ
            document.getElementById('tab-results').classList.remove('hidden');
            enableTab('results');
            switchTab('results');
            
            // Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ Ùˆ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹
            displayFinalResults(userVotes);
        });

        saveFinalImageButton.addEventListener('click', function() {
            const container = document.querySelector('.container');
            html2canvas(container).then(canvas => {
                const imageURL = canvas.toDataURL('image/png');
                
                const a = document.createElement('a');
                a.href = imageURL;
                a.download = 'planning-poker-final-results.png';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            });
        });

        // Navigation event listeners
        backToScenario.addEventListener('click', function() {
            switchTab('scenario');
        });

        backToInfo.addEventListener('click', function() {
            switchTab('info');
        });

        backToVote.addEventListener('click', function() {
            switchTab('vote');
        });

        backToEnterFromPmpiran.addEventListener('click', function() {
            switchTab('enter');
        });

        // Add event listeners to tab buttons
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                if (this.classList.contains('disabled')) {
                    return;
                }
                const tabId = this.id.replace('tab-', '');
                switchTab(tabId);
            });
        });

        function renderFruits() {
            fruitGrid.innerHTML = '';
            selectedFruits.forEach(fruit => {
                const fruitItem = document.createElement('div');
                fruitItem.className = 'fruit-item unvoted';

                // Create the select element for story points
                const selectElement = document.createElement('select');
                selectElement.className = 'story-points-select';
                selectElement.dataset.fruit = fruit.name;
                
                // Add an event listener to handle voting
                selectElement.addEventListener('change', function() {
                    // Update the visual status of the fruit item
                    if (selectElement.value !== '') {
                         fruitItem.classList.remove('unvoted');
                    } else {
                         fruitItem.classList.add('unvoted');
                    }
                });

                // Add a default, disabled option
                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = 'SP';
                defaultOption.disabled = true;
                defaultOption.selected = true;
                selectElement.appendChild(defaultOption);

                // Add options for each story point
                storyPoints.forEach(point => {
                    const option = document.createElement('option');
                    option.value = point;
                    option.textContent = point;
                    selectElement.appendChild(option);
                });

                fruitItem.innerHTML += `
                    <span class="fruit-emoji">${fruit.emoji}</span>
                    <span class="mt-2 text-sm font-bold">${fruit.name}</span>
                `;
                fruitItem.appendChild(selectElement);
                fruitGrid.appendChild(fruitItem);
            });
        }
        
        function checkAllVoted() {
            const allSelects = document.querySelectorAll('.story-points-select');
            for (let select of allSelects) {
                if (select.value === "") {
                    return false;
                }
            }
            return true;
        }

        function displayResults(votes) {
            resultsContainer.innerHTML = '';
            
            selectedFruits.forEach(fruit => {
                const fruitName = fruit.name;
                const points = votes[fruitName] || 0;

                const resultCard = document.createElement('div');
                resultCard.className = 'result-card';

                resultCard.innerHTML = `
                    <span class="fruit-emoji text-5xl mb-2">${fruit.emoji}</span>
                    <h4 class="font-bold text-xl mb-2">${fruitName}</h4>
                    <span class="inline-block bg-gray-200 rounded-full px-4 py-2 text-2xl font-semibold text-gray-700">
                        ${points}
                    </span>
                `;

                resultsContainer.appendChild(resultCard);
            });
        }
        
        function displayFinalResults(votes) {
            finalResultsContainer.innerHTML = '';
            let totalPoints = 0;
            
            selectedFruits.forEach(fruit => {
                const fruitName = fruit.name;
                const points = votes[fruitName] || 0;
                totalPoints += points;

                const resultCard = document.createElement('div');
                resultCard.className = 'result-card';

                resultCard.innerHTML = `
                    <span class="fruit-emoji text-5xl mb-2">${fruit.emoji}</span>
                    <h4 class="font-bold text-xl mb-2">${fruitName}</h4>
                    <span class="inline-block bg-green-100 rounded-full px-4 py-2 text-2xl font-semibold text-green-700">
                        ${points}
                    </span>
                `;

                finalResultsContainer.appendChild(resultCard);
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª
            totalPointsElement.textContent = totalPoints;
        }
    });
</script>

</body>
</html>
